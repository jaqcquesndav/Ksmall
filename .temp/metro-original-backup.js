// Configuration Metro temporaire générée
// Ce fichier est automatiquement généré et ne doit pas être modifié manuellement

// Exporter la configuration Metro dans un format compatible avec CommonJS
module.exports = {
  "resolver": {
    "assetExts": [
      "bmp",
      "gif",
      "jpg",
      "jpeg",
      "png",
      "psd",
      "svg",
      "webp",
      "xml",
      "m4v",
      "mov",
      "mp4",
      "mpeg",
      "mpg",
      "webm",
      "aac",
      "aiff",
      "caf",
      "m4a",
      "mp3",
      "wav",
      "html",
      "pdf",
      "yaml",
      "yml",
      "otf",
      "ttf",
      "zip",
      "heic",
      "avif",
      "db"
    ],
    "assetResolutions": [
      "1",
      "1.5",
      "2",
      "3",
      "4"
    ],
    "platforms": [
      "ios",
      "android"
    ],
    "sourceExts": [
      "jsx",
      "js",
      "tsx",
      "ts",
      "mjs",
      "json"
    ],
    "blockList": [
      {
        "__regExp": "/\\.git\\/.*/"
      },
      {
        "__regExp": "/android\\/.*\\/build\\/.*/"
      }
    ],
    "disableHierarchicalLookup": false,
    "emptyModulePath": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\metro-runtime\\src\\modules\\empty-module.js",
    "enableGlobalPackages": false,
    "extraNodeModules": {
      "assert": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\assert\\assert.js",
      "buffer": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\buffer",
      "child_process": null,
      "cluster": null,
      "console": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\console-browserify\\index.js",
      "constants": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\constants-browserify\\constants.json",
      "crypto": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\react-native-crypto",
      "dgram": null,
      "dns": null,
      "domain": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\domain-browser\\source\\index.js",
      "events": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\events\\events.js",
      "fs": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\src\\utils\\fs-mock.js",
      "http": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\stream-http\\index.js",
      "https": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\https-browserify\\index.js",
      "module": null,
      "net": null,
      "os": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\os-browserify\\browser.js",
      "path": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\path-browserify",
      "punycode": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\punycode\\punycode.js",
      "process": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\process",
      "querystring": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\querystring-es3\\index.js",
      "readline": null,
      "repl": null,
      "stream": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\readable-stream",
      "_stream_duplex": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\readable-stream\\duplex.js",
      "_stream_passthrough": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\readable-stream\\passthrough.js",
      "_stream_readable": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\readable-stream\\readable.js",
      "_stream_transform": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\readable-stream\\transform.js",
      "_stream_writable": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\readable-stream\\writable.js",
      "string_decoder": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\string_decoder\\lib\\string_decoder.js",
      "sys": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\util\\util.js",
      "timers": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\timers-browserify\\main.js",
      "tls": null,
      "tty": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\tty-browserify\\index.js",
      "url": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\url\\url.js",
      "util": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\node-libs-react-native\\node_modules\\util\\util.js",
      "vm": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\vm-browserify",
      "zlib": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\src\\utils\\zlib-mock.js"
    },
    "nodeModulesPaths": [],
    "resolveRequest": null,
    "resolverMainFields": [
      "react-native",
      "browser",
      "main",
      "module"
    ],
    "unstable_conditionNames": [
      "import",
      "require",
      "react-native",
      "browser",
      "default"
    ],
    "unstable_conditionsByPlatform": {
      "ios": [
        "react-native"
      ],
      "android": [
        "react-native"
      ],
      "web": [
        "browser"
      ]
    },
    "unstable_enablePackageExports": true,
    "useWatchman": true,
    "requireCycleIgnorePatterns": [
      {
        "__regExp": "/(^|\\/|\\\\)node_modules($|\\/|\\\\)/"
      }
    ]
  },
  "serializer": {
    "polyfillModuleNames": [],
    "getRunModuleStatement": "(moduleId) => `__r(${JSON.stringify(moduleId)});`",
    "getPolyfills": "({ platform }) => {\n                // Do nothing for nullish platforms.\n                if (!platform) {\n                    return [];\n                }\n                if (platform === 'web') {\n                    return [\n                        // Ensure that the error-guard polyfill is included in the web polyfills to\n                        // make metro-runtime work correctly.\n                        require.resolve('@react-native/js-polyfills/error-guard'),\n                    ];\n                }\n                // Native behavior.\n                return require('@react-native/js-polyfills')();\n            }",
    "getModulesRunBeforeMainModule": "() => [\r\n    './src/utils/pre-init.js'\r\n  ]",
    "processModuleFilter": "(module) => true",
    "createModuleIdFactory": "() => {\r\n    // Garantir que les modules critiques ont des IDs stables\r\n    const criticalModules = {\r\n      './src/utils/pre-init.js': 0,\r\n      './index.js': 1,\r\n    };\r\n    \r\n    return (path) => {\r\n      if (criticalModules[path] !== undefined) {\r\n        return criticalModules[path];\r\n      }\r\n      \r\n      // Hash stable pour les autres modules\r\n      let hash = 0;\r\n      for (let i = 0; i < path.length; i++) {\r\n        hash = (hash * 31 + path.charCodeAt(i)) % 2147483648;\r\n      }\r\n      return hash + 1000; // Offset pour éviter les conflits\r\n    };\r\n  }",
    "experimentalSerializerHook": "() => {}",
    "customSerializer": "async (...props) => {\n        for (const processor of processors) {\n            if (processor) {\n                props = await processor(...props);\n            }\n        }\n        return finalSerializer(...props);\n    }",
    "isThirdPartyModule": "function isThirdPartyModule(module) {\n                // Block virtual modules from appearing in the source maps.\n                if ((0, sideEffects_1.isVirtualModule)(module.path))\n                    return true;\n                // Generally block node modules\n                if (/(?:^|[/\\\\])node_modules[/\\\\]/.test(module.path)) {\n                    // Allow the expo-router/entry and expo/AppEntry modules to be considered first party so the root of the app appears in the trace.\n                    return !module.path.match(/[/\\\\](expo-router[/\\\\]entry|expo[/\\\\]AppEntry)/);\n                }\n                return false;\n            }"
  },
  "server": {
    "enhanceMiddleware": "(middleware) => {\r\n    return (req, res, next) => {\r\n      // Donner la priorité aux fichiers critiques\r\n      if (req.url.includes('pre-init') || req.url.includes('index.js')) {\r\n        req.headers['x-priority'] = 'high';\r\n      }\r\n      return middleware(req, res, next);\r\n    };\r\n  }",
    "forwardClientLogs": true,
    "port": 8081,
    "rewriteRequestUrl": "function rewriteExpoRequestUrl(url) {\n        // Like: `/.expo/.virtual-metro-entry.bundle?platform=ios&dev=true&minify=false&modulesOnly=false&runModule=true&app=com.bacon.test-custom-entry`\n        // Sometimes a fully qualified URL is passed in, e.g. `http://localhost:19001/.expo/.virtual-metro-entry.bundle?platform=ios&dev=true&minify=false&modulesOnly=false&runModule=true&app=com.bacon.test-custom-entry`\n        if (url.includes('/.expo/.virtual-metro-entry.bundle?')) {\n            const { pkg, exp } = (0, config_1.getConfig)(projectRoot, { skipSDKVersionRequirement: true });\n            const ensured = url.startsWith('/') ? new URL(url, 'https://acme.dev') : new URL(url);\n            // TODO: Maybe this function could be memoized in some capacity?\n            const { searchParams } = ensured;\n            const platform = searchParams.get('platform') ?? 'web';\n            debug('Rewriting magic request url to entry point', { url, platform });\n            const entry = (0, paths_1.resolveEntryPoint)(projectRoot, {\n                platform,\n                pkg,\n            });\n            if (!entry) {\n                throw new Error((0, chalk_1.default) `The project entry file could not be resolved (platform: ${platform}, root: ${projectRoot}). Define it in the {bold package.json} \"main\" field.`);\n            }\n            // Infer the missing transform properties to attempt to match the manifest request.\n            // NOTE: Keep in sync with metroOptions.ts\n            if (!ensured.searchParams.has('transform.routerRoot')) {\n                ensured.searchParams.set('transform.routerRoot', getRouterDirectoryModuleIdWithManifest(projectRoot, exp));\n            }\n            if (!ensured.searchParams.has('transform.reactCompiler') && exp.experiments?.reactCompiler) {\n                ensured.searchParams.set('transform.reactCompiler', String(!!exp.experiments?.reactCompiler));\n            }\n            if (!ensured.searchParams.has('transform.engine')) {\n                const isHermesEnabled = isEnableHermesManaged(exp, platform);\n                if (isHermesEnabled) {\n                    debug('Enabling Hermes for managed project');\n                    ensured.searchParams.set('transform.engine', 'hermes');\n                    ensured.searchParams.set('transform.bytecode', '1');\n                    ensured.searchParams.set('unstable_transformProfile', 'hermes-stable');\n                }\n            }\n            const serverRoot = (0, paths_1.getMetroServerRoot)(projectRoot);\n            const relativeEntry = path_1.default.relative(serverRoot, entry).replace(/\\.[tj]sx?$/, '');\n            debug('Resolved entry point', { entry, relativeEntry, serverRoot });\n            // Only return the pathname when url is relative\n            if (url.startsWith('/')) {\n                // Like: `/index.bundle?platform=ios&dev=true&minify=false&modulesOnly=false&runModule=true&app=com.bacon.test-custom-entry`\n                return '/' + relativeEntry + '.bundle?' + searchParams.toString();\n            }\n            // Modify the pathname within the URL and return the full URL\n            ensured.pathname = '/' + relativeEntry + '.bundle';\n            const outputUrl = ensured.toString();\n            debug('Redirected:', outputUrl);\n            // Like: `http://localhost:19001/index.bundle?platform=ios&dev=true&minify=false&modulesOnly=false&runModule=true&app=com.bacon.test-custom-entry`\n            return outputUrl;\n        }\n        return url;\n    }",
    "unstable_serverRoot": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall",
    "useGlobalHotkey": true,
    "verifyConnections": false
  },
  "symbolicator": {
    "customizeFrame": "(frame) => {\n        if (frame.file && isUrl(frame.file)) {\n            return {\n                ...frame,\n                // HACK: This prevents Metro from attempting to read the invalid file URL it sent us.\n                lineNumber: null,\n                column: null,\n                // This prevents the invalid frame from being shown by default.\n                collapse: true,\n            };\n        }\n        let collapse = Boolean(frame.file && exports.INTERNAL_CALLSITES_REGEX.test(frame.file));\n        if (!collapse) {\n            // This represents the first frame of the stacktrace.\n            // Often this looks like: `__r(0);`.\n            // The URL will also be unactionable in the app and therefore not very useful to the developer.\n            if (frame.column === 3 &&\n                frame.methodName &&\n                ['global', 'global code'].includes(frame.methodName) &&\n                frame.file?.match(/^https?:\\/\\//g)) {\n                collapse = true;\n            }\n            else if (frame.file === '<native>') {\n                collapse = true;\n            }\n            else if (\n            // Some internal component stacks often don't have a file name.\n            frame.file === '<anonymous>' &&\n                frame.methodName &&\n                [\n                    // React\n                    'Suspense',\n                    // React Native\n                    'RCTView',\n                    'RCTScrollView',\n                    'RCTScrollContentView',\n                    // React Native Screens\n                    'RNSScreen',\n                    'RNSScreenContentWrapper',\n                    'RNSScreenNavigationContainer',\n                ].includes(frame.methodName)) {\n                collapse = true;\n            }\n        }\n        return { ...(frame || {}), collapse };\n    }",
    "customizeStack": "async (stack, _) => stack"
  },
  "transformer": {
    "assetPlugins": [
      "expo-asset/tools/hashAssetFiles"
    ],
    "asyncRequireModulePath": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\@expo\\metro-config\\build\\async-require.js",
    "assetRegistryPath": "@react-native/assets-registry/registry",
    "babelTransformerPath": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\metro-react-native-babel-transformer\\src\\index.js",
    "dynamicDepsInPackages": "throwAtRuntime",
    "enableBabelRCLookup": true,
    "enableBabelRuntime": true,
    "getTransformOptions": "async () => ({\n                transform: {\n                    experimentalImportSupport: false,\n                    inlineRequires: false,\n                },\n            })",
    "globalPrefix": "",
    "hermesParser": false,
    "minifierConfig": {
      "keep_classnames": true,
      "keep_fnames": true,
      "mangle": {
        "keep_classnames": true,
        "keep_fnames": true,
        "reserved": [
          "require",
          "global",
          "__r",
          "process"
        ]
      }
    },
    "minifierPath": "metro-minify-terser",
    "optimizationSizeLimit": 153600,
    "transformVariants": {
      "default": {}
    },
    "workerPath": "metro/src/DeltaBundler/Worker",
    "publicPath": "/assets",
    "allowOptionalDependencies": true,
    "unstable_allowRequireContext": true,
    "unstable_dependencyMapReservedName": null,
    "unstable_disableModuleWrapping": false,
    "unstable_disableNormalizePseudoGlobals": false,
    "unstable_renameRequire": false,
    "unstable_compactOutput": false,
    "unstable_memoizeInlineRequires": false,
    "unstable_workerThreads": false,
    "postcssHash": null,
    "browserslistHash": null,
    "sassVersion": null,
    "reanimatedVersion": "3.17.5",
    "_expoRelativeProjectRoot": "",
    "inlineRequires": false,
    "globalDefines": {
      "process.env.NODE_ENV": "development",
      "__OFFLINE_FIRST__": false
    },
    "experimentalImportSupport": true
  },
  "watcher": {
    "additionalExts": [
      "env",
      "local",
      "development"
    ],
    "healthCheck": {
      "enabled": false,
      "filePrefix": ".metro-health-check",
      "interval": 30000,
      "timeout": 5000
    },
    "unstable_lazySha1": true,
    "unstable_workerThreads": false,
    "unstable_autoSaveCache": {
      "enabled": true,
      "debounceMs": 5000
    },
    "watchman": {
      "deferStates": [
        "hg.update"
      ]
    }
  },
  "cacheStores": [
    {
      "_root": "C:\\Users\\HPPAVI~1\\AppData\\Local\\Temp\\metro-cache"
    }
  ],
  "cacheVersion": "2.0.0-offline-first-1746470563884",
  "projectRoot": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall",
  "stickyWorkers": true,
  "watchFolders": [
    "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall"
  ],
  "transformerPath": "C:\\Users\\HP PAVILION\\Documents\\arena\\Appks\\Ksmall\\node_modules\\@expo\\metro-config\\build\\transform-worker\\transform-worker.js",
  "maxWorkers": 3,
  "resetCache": false,
  "unstable_perfLoggerFactory": "() => {\n  class Logger {\n    start() {}\n    end() {}\n    annotate() {}\n    point() {}\n    subSpan() {\n      return this;\n    }\n  }\n  return new Logger();\n}"
};

// Traiter les fonctions et expressions régulières stockées comme chaînes
Object.keys(module.exports).forEach(key => {
  traverseAndConvert(module.exports, key);
});

// Parcourir récursivement et convertir les représentations de fonctions et RegExp
function traverseAndConvert(obj, key) {
  const value = obj[key];
  
  // Convertir les chaînes qui représentent des fonctions en véritables fonctions
  if (typeof value === 'string' && (value.includes('function') || value.includes('=>'))) {
    try {
      // eslint-disable-next-line no-new-func
      obj[key] = new Function('return ' + value)();
    } catch (e) {
      // Si la conversion échoue, conserver la chaîne
      console.warn('Impossible de convertir la fonction:', value);
    }
  } 
  // Convertir les objets qui représentent des RegExp
  else if (value && typeof value === 'object' && value.__regExp) {
    const regexParts = value.__regExp.match(/\/(.*)\/([gimsuy]*)/);
    if (regexParts) {
      const [, pattern, flags] = regexParts;
      obj[key] = new RegExp(pattern, flags);
    }
  }
  // Parcourir récursivement les objets
  else if (value && typeof value === 'object') {
    Object.keys(value).forEach(k => traverseAndConvert(value, k));
  }
}